(this.webpackJsonpClient=this.webpackJsonpClient||[]).push([[0],{12:function(e,t,o){e.exports=o(21)},18:function(e,t,o){},20:function(e,t,o){},21:function(e,t,o){"use strict";o.r(t);o(13);var n=o(0),a=o.n(n),r=o(10),c=o.n(r),s=(o(18),o(2)),i=o.n(s),l=o(3),u=o(4),p=o(5),d=o(1),h=o(7),f=o(6),m=(o(20),o(9),o(11)),k=function(e){Object(h.a)(o,e);var t=Object(f.a)(o);function o(e){var n;return Object(u.a)(this,o),(n=t.call(this,e)).closed=n.closed.bind(Object(d.a)(n)),n.state={color:"black",lock:n.props.lock},n.lock=n.lock.bind(Object(d.a)(n)),n.animate=null,n}return Object(p.a)(o,[{key:"componentDidMount",value:function(){m.a.fromTo(this.animate,1,{opacity:"0",marginTop:"20vw"},{opacity:"1",marginTop:"0vw"}),"black"===this.props.color2&&this.setState({color:"white"})}},{key:"lock",value:function(){var e=Object(l.a)(i.a.mark((function e(){var t,o,n=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/ps");case 2:return t=e.sent,e.next=5,t.json();case 5:o=e.sent,setTimeout((function(){if(prompt("Enter the maggiiiic keeey")===o[0].password){n.setState({lock:!n.state.lock});var e={key:n.props.keyColor,color1:n.props.color1,color2:n.props.color2,lock:n.state.lock};fetch("/updateColor",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}else alert("Magic word not correct")}),100);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"closed",value:function(){var e=Object(l.a)(i.a.mark((function e(){var t,o=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.state.lock?alert("You can't delete the color without unlocking it!"):(t={key:this.props.keyColor,color1:this.props.color1,color2:this.props.color2,lock:this.state.lock},fetch("/deletecolor",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),setTimeout((function(){console.log("Done"),o.props.update()}),200));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"each-color-composition",ref:function(t){return e.animate=t}},a.a.createElement("div",{className:"lock",onClick:this.lock,style:{color:this.state.color}},this.state.lock?"locked":"unlocked"),a.a.createElement("div",{className:"close",onClick:this.closed,style:{color:this.state.color}}," X "),a.a.createElement("div",{className:"left-compose",style:{backgroundColor:this.props.color1}}),a.a.createElement("div",{className:"right-compose",style:{backgroundColor:this.props.color2}}))}}]),o}(a.a.Component),y=function(e){Object(h.a)(o,e);var t=Object(f.a)(o);function o(e){var a;return Object(u.a)(this,o),(a=t.call(this,e)).state={col1:"",col2:"",render:!1,empty:"",key:0},a.colors=[],a.colorChange=a.colorChange.bind(Object(d.a)(a)),a.colorAdded=a.colorAdded.bind(Object(d.a)(a)),a.arrayModified=a.arrayModified.bind(Object(d.a)(a)),a.updateArray=a.updateArray.bind(Object(d.a)(a)),a.firstinput=Object(n.createRef)(),a.secondinput=Object(n.createRef)(),a}return Object(p.a)(o,[{key:"updateArray",value:function(){var e=Object(l.a)(i.a.mark((function e(){var t,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.colors=[],e.next=3,fetch("/color");case 3:return t=e.sent,e.next=6,t.json();case 6:o=e.sent,this.arrayModified(o),this.setState({render:!0});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"arrayModified",value:function(e){var t=this,o=0;e.map((function(e){var n=e.key,a=e.color1,r=e.color2,c=e.lock;o=n>o?n:o,t.colors.push({key:n,first:a,second:r,lock:c})})),o+=1,this.setState({key:o})}},{key:"componentDidMount",value:function(){this.updateArray(),console.log("It's production")}},{key:"colorChange",value:function(e){this.setState({[e.target.name]:e.target.value})}},{key:"colorAdded",value:function(){var e=Object(l.a)(i.a.mark((function e(t){var o,n=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o={key:this.state.key,color1:this.state.col1,color2:this.state.col2,lock:!1},this.setState({key:this.state.key+1}),fetch("/newcolor",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}),setTimeout((function(){console.log("Done"),n.updateArray()}),100),this.firstinput.value="",this.secondinput.value="";case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"biggerPicture"},a.a.createElement("div",{className:"pickcolor"},a.a.createElement("label",{className:"firstlabel"}," First: ",a.a.createElement("input",{className:"firstlabel-input",ref:function(t){return e.firstinput=t},name:"col1",type:"text",onChange:this.colorChange})," "),a.a.createElement("label",{className:"secondlabel"}," Second: ",a.a.createElement("input",{className:"secondlabel-input",ref:function(t){return e.secondinput=t},type:"reset",name:"col2",type:"text",onChange:this.colorChange})," "),a.a.createElement("button",{className:"button",onClick:this.colorAdded},"Add Color")),this.colors.map((function(t){var o=t.key,n=t.first,r=t.second,c=t.lock;return a.a.createElement(k,{keyColor:o,color1:n,color2:r,lock:c,update:e.updateArray})})))}}]),o}(a.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},9:function(e,t,o){}},[[12,1,2]]]);
//# sourceMappingURL=main.b62dc2fe.chunk.js.map